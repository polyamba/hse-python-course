"""
Задание 1: Базовый загрузчик и анализатор данных

В этом задании мы напишем класс, который можно использовать для:
- Экспериментов с данными - валидации содержания датасетов
- Быстрой и удобной загрузки данных в программу для обработки big data
- Прототипирования ML моделей - подготовки данных для исследований
- Мониторинга данных - проверки качества входных данных в сложном пайплайне

Условие задачи:

Напишите класс DataLoader, который отвечает за загрузку и базовый анализ датасета.

1. Класс должен иметь один инкапсулированный (приватный) метод _validate_file_path, который принимает на вход путь к файлу, проверяет его существование и то, что это файл (а не директория). Если проверка не пройдена, метод должен вызывать исключение FileNotFoundError.

2. Реализуйте метод экземпляра load_data, который принимает путь к CSV-файлу, вызывает приватный метод _validate_file_path для проверки и затем загружает данные с помощью pandas.read_csv. Метод должен возвращать DataFrame.

3. Реализуйте второй метод экземпляра get_basic_info, который не принимает аргументов (кроме self), но использует данные, загруженные методом load_data. Этот метод должен выводить на экран (или возвращать в виде строки) базовую информацию о датасете: форму (shape), имена колонок и количество пропущенных значений в каждой колонке.

Критерии оценки (10 баллов):

3 балла: Корректная реализация инкапсулированного метода _validate_file_path с проверкой существования и типа пути.
3 балла: Корректная работа метода load_data, который использует приватный метод и возвращает DataFrame.
2 балла: Реализация метода get_basic_info, который выводит требуемую информацию о данных.
2 балла: Читаемость кода, наличие комментариев (docstrings) и отсутствие ошибок при выполнении.
"""

### ПОДСКАЗКИ ###

# Для решения этой задачи нужны библиотеки pandas и numpy. Не забудьте установить их через pip install
# Для проверки "файл или директория" мы используем библиотеку os:
#    os.path.exists(file_path) проверяет путь к файлу (что он существует)
#    os.path.isfile(file_path) проверяет, является ли объект файлом
# Работа с numpy:
#    array.shape показывает размерность датасета, т.е. количество строк и столбцов в матрице
#    data.isnull() возвращает True, если значение нулевое

### ПРИМЕР ИСПОЛЬЗОВАНИЯ РЕЗУЛЬТАТА ВАШЕЙ РАБОТЫ ###

# Протестируйте результат вашей работы на этих примерах

# Импорт класса
from data_loader import DataLoader

# 1. Создание экземпляра
loader = DataLoader('/Users/polyamba/Desktop/питон/hw1/домашняя/sales_data.csv')

# 2. Загрузка данных
try:
    data = loader.load_data('/Users/polyamba/Desktop/питон/hw1/домашняя/sales_data.csv')
    print("Данные успешно загружены!")
except FileNotFoundError as e:
    print(f"Ошибка: {e}")
except Exception as e:
    print(f"Ошибка загрузки: {e}")

# 3. Анализ данных
try:
    info = loader.get_basic_info()
    print(info)
except ValueError as e:
    print(f"Ошибка анализа: {e}")

# 4. Работа с данными напрямую
if loader.data is not None:
    print("\nПервые 5 строк данных:")
    print(loader.data.head())

